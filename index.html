<!DOCTYPE html>
<meta charset="utf-8">
<style>

#chart svg {
  height: 400px;
}

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}

</style>
<body>
<div id="chart">
  <svg></svg>
</div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

function data() {
  var icuRaw = [0, 0, 12, 15, 20, 29, 27, 31, 23, 21, 21, 10, 17, 7, 10, 4, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 4, 6, 5, 4, 2, 3, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      fatalRaw = [0, 0, 5, 3, 7, 11, 15, 9, 11, 15, 15, 8, 12, 5, 6, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 4, 1, 2, 1, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      icu = [],
      fatal2 = [];
  
  for (var i = 0; i < 52; i++) {
    icu.push({x: i+1, y: icuRaw[i]});
    fatal2.push({x: i+1, y: fatalRaw[i]});
  }

  return [
    {
      values: icu,
      key: 'ICU Admissions',
      color: '#ff7f0e'
    },
    {
      values: fatal2,
      key: 'Fatal cases',
      color: '#2ca02c'
    }
  ];
}

nv.addGraph(function() {
  var chart = nv.models.lineChart()
    .useInteractiveGuideline(true)
    ;

  chart.xAxis
    .axisLabel('Date (n-th week)')
    .tickFormat(d3.format(',r'))
    ;

  chart.yAxis
    .axisLabel('Count (person)')
    .tickFormat(d3.format(',r'))
    ;

  d3.select('#chart svg')
    .datum(data())
    .transition().duration(500)
    .call(chart)
    ;

  nv.utils.windowResize(chart.update);

  return chart;
});

</script>
